<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="David McClellan "><meta name=description content="Odroid + Minecraft = Possible Introduction ARM based CPU’s have always interested me. Long before they had gained the reputation that they have today, I was hacking away on them. Finding out everything that I could do with them. Over the past few years, there has been a huge interest in optimizations for the architexture along with many operating systems being specificially(at least originally) developed for them. While I’m still working my way to replacing all of the hardware in my house with an ARM CPU, I feel at least in the server department, it should be an easy venture."><meta name=keywords content=",untagged"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://hacdan.org/posts/odroid_plus_minecraft/><title>Odroid + Minecraft = Possible :: David McClellan</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.29c2c8c3fc9cf748254138351f142ac2833b208a68e83aec126edc98b59efef2.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#ffffff><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta name=theme-color content="ffffff"><meta itemprop=name content="Odroid + Minecraft = Possible"><meta itemprop=description content="Odroid + Minecraft = Possible Introduction ARM based CPU’s have always interested me. Long before they had gained the reputation that they have today, I was hacking away on them. Finding out everything that I could do with them. Over the past few years, there has been a huge interest in optimizations for the architexture along with many operating systems being specificially(at least originally) developed for them. While I’m still working my way to replacing all of the hardware in my house with an ARM CPU, I feel at least in the server department, it should be an easy venture."><meta itemprop=datePublished content="2016-04-23T00:00:00+00:00"><meta itemprop=dateModified content="2016-04-23T00:00:00+00:00"><meta itemprop=wordCount content="1375"><meta itemprop=keywords content="untagged,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Odroid + Minecraft = Possible"><meta name=twitter:description content="Odroid + Minecraft = Possible Introduction ARM based CPU’s have always interested me. Long before they had gained the reputation that they have today, I was hacking away on them. Finding out everything that I could do with them. Over the past few years, there has been a huge interest in optimizations for the architexture along with many operating systems being specificially(at least originally) developed for them. While I’m still working my way to replacing all of the hardware in my house with an ARM CPU, I feel at least in the server department, it should be an easy venture."><meta property="article:published_time" content="2016-04-23 00:00:00 +0000 UTC"><script async src="https://www.googletagmanager.com/gtag/js?id=G-YXCZ6FG1CL"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YXCZ6FG1CL",{anonymize_ip:!1})}</script></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>$ cd /Users/hacdan/</span>
<span class=logo__cursor style=background-color:#67a2c9></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/posts>Blog</a></li><li><a href=/resume/readme/>Resume</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>7 minutes</p></div><article><h1 class=post-title><a href=https://hacdan.org/posts/odroid_plus_minecraft/>Odroid + Minecraft = Possible</a></h1><hr><aside id=toc><div class=toc-title>Table of Contents</div><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a><ul><li><a href=#a-few-specs-on-the-xu4>A few specs on the XU4:</a></li></ul></li><li><a href=#setup---how-do-i-do-that>Setup - How do I do that?</a><ul><li><a href=#storage>Storage</a></li><li><a href=#software-setup>Software Setup</a></li></ul></li><li><a href=#which-plugins-should-you-be-using>Which plugins should you be using?</a><ul><li><a href=#plugin-list>Plugin List:</a></li></ul></li><li><a href=#to-pre-generate-or-not-to-pre-generate>To pre-generate or not to pre-generate</a></li><li><a href=#optimization---what-you-need-to-know>Optimization - What you need to know</a><ul><li><a href=#links>Links</a></li></ul></li></ul></nav></aside><hr><div class=post-content><h1 id=odroid--minecraft--possible>Odroid + Minecraft = Possible</h1><h2 id=introduction>Introduction</h2><p>ARM based CPU’s have always interested me. Long before they had gained the reputation that they have today, I was hacking away on them. Finding out everything that I could do with them. Over the past few years, there has been a huge interest in optimizations for the architexture along with many operating systems being specificially(at least originally) developed for them. While I’m still working my way to replacing all of the hardware in my house with an ARM CPU, I feel at least in the server department, it should be an easy venture.</p><p>This has proven, however to be a bit more work than a few apt-get installs and we’re off to the races. No, it’s been a bit more than that, but, not much! Which I think is awesome!</p><p>The first major migration for me was to move a <a href=https://minecraft.net/ target=_blank rel=noopener>Minecraft</a>
server over to an <a href="http://www.hardkernel.com/main/products/prdt_info.php?g_code=G143452239825" target=_blank rel=noopener>ODROID - XU4</a>
.</p><p>This little beast of a machine has proven to be quite the workhorse, and I may even try to expand on it even more with a webserver running and possibly file storage down the road. It is hosted at a friends house, as it’s his, but I did the majority of the software work to migrate everything over.</p><h3 id=a-few-specs-on-the-xu4>A few specs on the XU4:</h3><ul><li>Samsung Exynos 5422<ul><li>4 A15 Cores @ 2Ghz<ul><li>4 A7 Cores @ 1.5Ghz</li><li>Mali-T628 MP6 GPU</li><li>2 GB LPDDR3 RAM</li><li>Gigabit Ethernet</li><li>2 USB3 Ports</li><li>1 USB2 Port</li><li>1 HDMI Port</li></ul></li></ul></li></ul><p>Now, on paper, if you ignore the part that makes these cores ARM cores, this is a beastly machine. However, even though these are ARM cores, and not traditional x86(64) cores, they are still quite quick! From the get-go my only concern with the hardware was the 2GB of DDR3 RAM. This is where I had to work a bit of magic and modify the setup just a bit, to have a usable server for the amount of users that are normally present.</p><p>Now, onto the how!</p><h2 id=setup---how-do-i-do-that>Setup - How do I do that?</h2><p>The XU4 has a few different options when it comes to storage, and I do not believe this is within the scope of this post, but for the most part, I would count on needing at least 8GB of storage for the software along with the actual map files needed. This is honestly on the small side though, so if you’re thinking you’re going to have a big world, I’d go for at least 16GB of storage.</p><h3 id=storage>Storage</h3><p>The type of storage doesn’t really matter. While an eMMC module would be optimal, using a MicroSD card or even a spinning disk drive with the cloud box for the XU4 wouldn’t change that much. Minecraft does have a decent amount of disk activity, but not to the point where that will be your bottleneck. This server has a 16GB eMMC module which has been more than enough so far.</p><h3 id=software-setup>Software Setup</h3><p>While the OpenJDK is available for the XU4, I would recommend the Oracle build of Java 8. I’m using the latest build as of writing this post. I did test the OpenJDK initially, and it worked just fine, but the Oracle Java package is more optimized, so out with the FOSS and in with Oracle. (<em>I hope to never have to write that again!</em>)</p><p>Spigot’s optimizations have proven to be the saving grace of running a Minecraft Server on the XU4. If you haven’t heard of Spigot, it is a rewire to the popular Bukkit server, that focuses on optimizations for the server. Another main feature is the plugin API. While Spigot has (pretty much) full support for Bukkit plugins, it has, as far as I know, rewritten the API hooks to be even more optimal for, you guessed it, performance.</p><h2 id=which-plugins-should-you-be-using>Which plugins should you be using?</h2><p>While most plugins should be fine for using with the XU4, I’ve found there are a few quintessential ones that are really needed for optimal performance.</p><h3 id=plugin-list>Plugin List:</h3><ul><li><a href=http://dev.bukkit.org/bukkit-plugins/nospawnchunks/ target=_blank rel=noopener>NoSpawnChunks</a></li><li><a href=https://hub.spigotmc.org/jenkins/job/Spigot-Essentials/ target=_blank rel=noopener>Essentials</a></li><li><a href=https://hub.spigotmc.org/jenkins/job/Spigot-Essentials/ target=_blank rel=noopener>Essentials Spawn</a></li></ul><p>These are the only plugins currently in use on the server, and I feel they are all really needed for a clean Spigot setup and also an optimal one. The key plugin in that list though is NoSpawnChunks. This plugin unloads the spawn chunks as if they were any other chunk in the gaame. This reduces the memory usage of the server by around 10% when people are online and in the spawn chunks because not all of them are loaded. Around 15% when they are online and not in the spawn chunks.</p><p>The downsides to this plugin, however, is that no processing is done in the spawn chunks when no one is online. What this boils down to is that farms that need to be built in the spawn chunks will not work, including Iron farms. Now, some versions of these farms will work if they do not require the farm to be loaded all the time, but anything that depends on the farm being loaded all the time will not.</p><p>I find this to be a minor setback as while a server iron farm is a nice thing to have, we are using it more as a restriction to force us to mine.</p><p>Some testing was completed without this plugin, and things are definetely still playable, even smooth, the problem being it further limits the number of players that can log on to the server. The decision was made more players was a better trade off.</p><p>Essentials and Essentials Spawn are Bukkit plugins that are great for admining the server and allowing players to set warps. While far from required for this setup, I would recommend using them, just for ease of use.</p><h2 id=to-pre-generate-or-not-to-pre-generate>To pre-generate or not to pre-generate</h2><p>In some initial testing, terrain generation was proven to be the bottleneck of the XU4. While it was more than capable of generating terrain, it could not keep up with more than one person generating chunks at the same time. To resolve this issue, the decision was made to pre-generate the world. The map files were moved to a more powerful machineto speed up the process, but this was far from necessary. The generation was completed in about an hour with a modified server that moves the spawn point around and uses normal generation.</p><p>The downsides to being pre-generated means if there is an update that chagnes generation, players will need to move out quite a ways in the world to find this new generation, but again, this was a tradoff that was decided on deemed worth it by the player base.</p><p>The program used to pregenerate was <a href=https://github.com/Morlok8k/MinecraftLandGenerator target=_blank rel=noopener>MinecraftLandGenerator</a>
. While it eneded a bit of modification to work with our chosen seed and teh current version of minecraft, generation was completed in about an hour for a 10,000 by 10,000 area. This only generated the overworld, and not the nether or the end.</p><p>Research is being conducted on how to generate those regions, as they are now much more important in the current patch. The server hasn’t progressed to the point of being in need of those regions yet though, so I have some time.</p><h2 id=optimization---what-you-need-to-know>Optimization - What you need to know</h2><p>In regards to optimization, there wasn’t a whole lot that was done. The server OS in use is Ubuntu 14.04 LTS Minimal, which is available from the ODROID downloads page <a href=http://odroid.in/ubuntu_14.04lts/ target=_blank rel=noopener>here</a>
. Basic scripts were put in place to start the server up in a tmux session. Currently there is 1.5GB of RAM dedicated to the Java VM and this is proving to be a bit overkill for the current playerbase, but being as there is no use for the rest of the resources on the server at the moment, the settings have stayed.</p><p>One thing that is currently being worked on is underclocking the GPU to save a bit on power, as this is a headless server. In the process a custom kernel may be compiled to help with performance as well, but it is far from needed. If you have any questions, please feel free to comment below or at the <a href="http://forum.odroid.com/viewtopic.php?f=93&t-20337" target=_blank rel=noopener>forum post</a>
started by the hoster on the ODroid forums.</p><h3 id=links>Links</h3><ul><li><a href="http://forum.odroid.com/viewtopic.php?f=93&t=20337" target=_blank rel=noopener>Odroid forum link</a></li></ul></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://hacdan.org/tags/untagged/>untagged</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>1375 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2016-04-22 20:00</p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://hacdan.org/posts/weekly_blog_post_challenge/><span class=button__icon>←</span>
<span class=button__text>Weekly Blog Post Challenge</span></a></span>
<span class="button next"><a href=https://hacdan.org/posts/moving_to_the_cloud/><span class=button__text>Moving To The Cloud</span>
<span class=button__icon>→</span></a></span></div></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span><a href=https://hacdan.org/>David McClellan</a></span>
<span><a href=https://hacdan.org/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div><div class=footer__inner><div class=footer__content><span>Powered by <a href=http://gohugo.io>Hugo</a></span></div></div></footer></div><script type=text/javascript src=/bundle.min.bb2c6bc3ed452ca4759660e4020811f248bc2320081559e8a32d8b0092773852941133639d35e8370d03d3ddaa750b1edd6b343c5bd22a55d5bdeae8f648f49b.js integrity="sha512-uyxrw+1FLKR1lmDkAggR8ki8IyAIFVnooy2LAJJ3OFKUETNjnTXoNw0D092qdQse3Ws0PFvSKlXVvero9kj0mw=="></script></body></html>